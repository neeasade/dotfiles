#!/bin/sh
# gott: https://github.com/neeasade/gott

theme_dir="$HOME/.dotfiles/theming"
gott=gott

# when iterating:
# cd "$HOME/git/gott"
# go build || exit 1
# gott=./gott

scratch=scratch

. "$HOME/.sh.d/environment"
if $MAC; then
    scratch=scratch_mac
fi

timeout 1 $gott \
    -t "${theme_dir}/colors.toml" \
    -t "${theme_dir}/base.toml" \
    -t "${theme_dir}/${scratch}.toml" \
    "$@"

if [ $? = 124 ]; then
    echo "theme timed out!" >&2
    notify-send "theme timed out!"
fi
