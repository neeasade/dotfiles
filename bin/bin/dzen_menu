#!/bin/bash

. ~/.bspwm_theme

export width=200
export length=14
export align=l

# stupid dzen workaround.
sdw="& pkill dzen"
(
echo "+"

echo " Common folders"
echo "   ^ca(1, pcmanfm "$HOME/Downloads" ) Downloads ^ca()"
echo "   ^ca(1, pcmanfm "$HOME/Documents" $sdw) Documents ^ca()"
echo "   ^ca(1, pcmanfm "$HOME/images" $sdw) Images ^ca()"

echo " Recently edited "
# Get recent files from .viminfo by vim marks.
for file in $(cat .viminfo | grep -A 10 "File marks" | grep -oE "~.+" | uniq | head -n 5); do
    fullfile="$(echo $file | sed "s/~/\/home\/$USER/" )"
    echo "   ^ca(1, termite -e 'vim $fullfile' $sdw) $file ^ca()"
done

echo " Actions"
echo "   ^ca(1, i3blur.sh $sdw) ^fn($PANEL_FONT_ICON) $(echo -n -e "\uf023") ^fn() Lock ^ca()"
echo "   ^ca(1, bspc quit) ^fn($PANEL_FONT_ICON) $(echo -n -e "\uf08b") ^fn() Logoff ^ca()"
echo "   ^ca(1, shutdown $sdw) ^fn($PANEL_FONT_ICON) $(echo -n -e "\uf011") ^fn() Shutdown ^ca()"
) | eval dzen2 $(dzen_options)

