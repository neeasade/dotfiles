#!/usr/bin/env bash
# squeeze lemons into a certain shape/style
# the environment comes from i3blocks generated with ripen

# depend on environment to come from i3blocks
# clickables:


spaced_buttons() {
    border=${border:-#777777}
    border_side=$(bs O1 B$border U$bg +o +u)
    content=$(echo "  $line  " | bs B$bg F$fg U$border +u +o)
    content="$border_side$content$border_side"

    case $align in
	left) printf '%s   \n' "$content" ;;
	center) printf '%s   \n' "$content" ;;
	right) printf '    %s\n' "$content" ;;
    esac
}

while IFS=$'\n' read -r line; do
    if [ -z "$line" ]; then
	continue
    fi

    if [ -z "$FORCE" ]; then
	if [ "$name" = "tags" ]; then
	    echo "$line"
	    continue
	fi
    fi

    # todo: enhance with buttons from env?

    # echo "$line"
    spaced_buttons
done
